<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WLAC Zero Textbook Cost Programs</title>
  <style>
    :root{ --wlac-navy:#002147; --wlac-gold:#fdb813; --wlac-gray-100:#f7f7f8; --wlac-gray-200:#eeeeef; --text:#0f172a; }
    html,body{ background:#fff; color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; }
    header{ text-align:center; padding:20px 12px; }
    header img{ max-width:220px; display:block; margin:0 auto 10px; }
    header h1{ margin:.3rem 0; color:var(--wlac-navy); font-size:clamp(1.4rem, 2vw + 1rem, 2.2rem); }
    .cta{ margin:14px 0; }
    .cta a{ background:var(--wlac-gold); color:#000; padding:10px 12px; text-decoration:none; border-radius:10px; font-weight:700; display:inline-block; margin:4px; }
    .section{ max-width:1100px; margin:0 auto; padding:20px; }
    h3{ border-bottom:3px solid var(--wlac-gold); padding-bottom:6px; color:var(--wlac-navy); }
    ul{ list-style:none; padding:0; }
    li{ margin:4px 0; }
    #cartToggle{ position: fixed; right: 16px; bottom: 16px; z-index: 50; border: 0; border-radius: 999px; padding: 12px 14px; font-size: 16px; cursor: pointer; background:var(--wlac-gold); color:#000; box-shadow: 0 6px 16px rgba(0,0,0,.2); }
    #cartToggle #cartCount{ font-weight:700; padding-left:6px; }
    #cartDrawer{ position: fixed; top:0; right:-440px; width:440px; max-width:100%; height:100vh; background:#fff; box-shadow:-6px 0 24px rgba(0,0,0,.15); transition:right .25s ease; z-index:60; display:flex; flex-direction:column; }
    #cartDrawer.open{ right:0; }
    .cart-header{ display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid var(--wlac-gray-200); }
    .cart-header h2{ margin:0; font-size:1.25rem; color:var(--wlac-navy); }
    .cart-content{ padding:16px 18px; overflow:auto; }
    .muted{ color:#555; font-size:.95rem; }
    #quickAdd{ margin: 12px 0 18px; border:1px solid var(--wlac-gray-200); padding:12px; border-radius:10px; }
    #quickAdd .grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    #quickAdd label{ display:flex; flex-direction:column; font-size:.9rem; gap:6px; }
    #quickAdd input{ padding:8px; border:1px solid #ddd; border-radius:8px; }
    .add-btn{ margin-top:10px; background:var(--wlac-navy); color:#fff; border:0; border-radius:8px; padding:10px 12px; cursor:pointer; }
    .cart-items{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px; }
    .cart-item{ border:1px solid var(--wlac-gray-200); border-radius:12px; padding:10px 12px; }
    .item-top{ display:flex; justify-content:space-between; gap:8px; flex-wrap: wrap; }
    .item-title{ font-weight:700; color:var(--wlac-navy); }
    .item-meta{ font-size:.92rem; color:#333; }
    .remove{ background:transparent; border:0; color:#b30000; cursor:pointer; font-weight:700; }
    .cart-actions{ padding:12px 18px; border-top:1px solid var(--wlac-gray-200); display:flex; gap:10px; }
    .cart-actions button{ flex:1; border:0; border-radius:10px; padding:10px 12px; cursor:pointer; font-weight:700; }
    #copyList{ background:#f1f1f1; }
    #saveCsv{ background:var(--wlac-gold); }
    #printCart{ background:#e6f0ff; color:var(--wlac-navy); }
    #clearCart{ background:#ffe9e9; color:#b30000; }
    @media print { .no-print{ display:none !important; } }
  </style>
</head>
<body>
  <header>
    <img src="library-logo.png" alt="West Los Angeles College Library Logo" />
    <h1>ZERO TEXTBOOK COST PROGRAMS</h1>
    <p>GO WEST. GO FAR. â€” with $0 spent on textbooks</p>
    <div class="cta">
      <a href="https://www.wlac.edu/">Apply Now</a>
      <a href="https://www.wlac.edu/">Meet With a Counselor</a>
      <a href="index.html" target="_blank">Search ZTC Course Sections</a>
    </div>
  </header>
  <div class="section">
    <h3>ðŸŽ“ Degrees & Certificates</h3>
    <ul>
      <li><strong>AA-T</strong>: Communication Studies, English, Social Justice Studies: Chicana/o Studies, Social Justice: LGBTQ Studies</li>
      <li><strong>AA</strong>: Anthropology; Climate Change & Environmental Studies; Liberal Arts & Sciences â€“ Arts & Humanities; Liberal Arts & Sciences â€“ Behavioral & Social Sciences; Liberal Arts & Sciences â€“ Health Professions; Sociology; Spanish</li>
      <li><strong>Certificates of Achievement</strong>: Climate Change Studies â€“ Natural Science; Climate Change Studies â€“ Social Science; Cloud Computing â€“ AWS; Mobile Application Development Essentials</li>
      <li><strong>General Education</strong>: CSU-GE Breadth; IGETC</li>
      <li><strong>Noncredit</strong>: Multiple workforce and college readiness certificates (see list)</li>
    </ul>
  </div>
  <button id="cartToggle" aria-label="Open cart" title="Open cart">ðŸ›’ <span id="cartCount">0</span></button>
  <aside id="cartDrawer" aria-hidden="true">
    <div class="cart-header">
      <h2>Your ZTC Cart</h2>
      <button id="cartClose" aria-label="Close cart" class="no-print">âœ•</button>
    </div>
    <div class="cart-content">
      <p class="muted">Add WLAC ZTC course sections here so you can copy, save, or print them for enrollment. Items added on the <a href="index.html" target="_blank">Search page</a> use the same cart.</p>
      <form id="quickAdd" autocomplete="off" class="no-print">
        <div class="grid">
          <label><span>Course*</span><input required name="course" placeholder="e.g., ENGLISH 101" /></label>
          <label><span>Section*</span><input required name="section" placeholder="e.g., 12345" /></label>
          <label><span>Instructor</span><input name="instructor" placeholder="e.g., J. Smith" /></label>
          <label><span>Units</span><input name="units" placeholder="e.g., 3" /></label>
          <label><span>Days</span><input name="days" placeholder="e.g., M/W" /></label>
          <label><span>Time</span><input name="time" placeholder="e.g., 10:30â€“11:45 AM" /></label>
          <label><span>Location</span><input name="location" placeholder="e.g., ONLINE / CE 225" /></label>
        </div>
        <button class="add-btn" type="submit">Add to Cart</button>
      </form>
      <ul id="cartItems" class="cart-items"></ul>
    </div>
    <div class="cart-actions no-print">
      <button id="copyList">Copy All</button>
      <button id="saveCsv">Save CSV</button>
      <button id="printCart">Print / Save PDF</button>
      <button id="clearCart" class="danger">Clear Cart</button>
    </div>
  </aside>
  <script>
    (function(){
      const STORAGE_KEY = 'wlacZtcCartV1';
      const $ = (sel, ctx=document)=>ctx.querySelector(sel);
      const cartToggle = $('#cartToggle');
      const cartDrawer = $('#cartDrawer');
      const cartClose  = $('#cartClose');
      const cartItemsEl = $('#cartItems');
      const cartCount = $('#cartCount');
      const quickAdd = $('#quickAdd');
      const load = () => { try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []; } catch { return []; } };
      const save = (items) => localStorage.setItem(STORAGE_KEY, JSON.stringify(items));
      const format = (it)=>{
        const p = [it.course, it.section && ('Sec ' + it.section)].filter(Boolean).join(' â€¢ ');
        const meta = [it.instructor, it.units && (it.units+ ' units'), it.days, it.time, it.location].filter(Boolean).join(' | ');
        return {title:p, meta};
      };
      const render = () => {
        const items = load();
        cartCount.textContent = items.length;
        cartItemsEl.innerHTML = '';
        items.forEach((it, idx)=>{
          const {title, meta} = format(it);
          const li = document.createElement('li');
          li.className = 'cart-item';
          li.innerHTML = `
            <div class="item-top">
              <div class="item-title">${title}</div>
              <button class="remove no-print" data-idx="${idx}">Remove</button>
            </div>
            <div class="item-meta">${meta || ''}</div>
          `;
          cartItemsEl.appendChild(li);
        });
      };
      const addItem = (it) => {
        const items = load();
        items.push({ course: (it.course||'').trim(), section:(it.section||'').trim(), instructor:(it.instructor||'').trim(), units:(it.units||'').trim(), days:(it.days||'').trim(), time:(it.time||'').trim(), location:(it.location||'').trim() });
        save(items); render();
      };
      window.WLAC_ZTC_CART = { add: addItem, list: load, clear: ()=>{ save([]); render(); } };
      cartToggle.addEventListener('click', ()=>{ cartDrawer.classList.add('open'); cartDrawer.setAttribute('aria-hidden','false'); });
      cartClose.addEventListener('click', ()=>{ cartDrawer.classList.remove('open'); cartDrawer.setAttribute('aria-hidden','true'); });
      quickAdd.addEventListener('submit', (e)=>{ e.preventDefault(); const data = Object.fromEntries(new FormData(quickAdd).entries()); if(!data.course || !data.section){ alert('Please enter Course and Section.'); return; } addItem(data); quickAdd.reset(); });
      cartItemsEl.addEventListener('click', (e)=>{ if(e.target.matches('.remove')){ const idx = +e.target.getAttribute('data-idx'); const items = load(); items.splice(idx,1); save(items); render(); } });
      $('#copyList').addEventListener('click', ()=>{
        const items = load();
        const text = items.map(i=>`${i.course} | Sec ${i.section} | ${[i.instructor,i.units && (i.units+' units'), i.days, i.time, i.location].filter(Boolean).join(' | ')}`).join('\n');
        navigator.clipboard.writeText(text).then(()=> alert('Cart copied to clipboard'));
      });
      $('#saveCsv').addEventListener('click', ()=>{
        const items = load();
        const header = ['Course','Section','Instructor','Units','Days','Time','Location'];
        const rows = items.map(i=>[i.course,i.section,i.instructor,i.units,i.days,i.time,i.location]);
        const csv = [header, ...rows].map(r=>r.map(v=>`"${(v||'').replaceAll('"','""')}"`).join(',')).join('\n');
        const blob = new Blob([csv], {type:'text/csv'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a'); a.href = url; a.download = 'wlac-ztc-cart.csv'; a.click();
        setTimeout(()=>URL.revokeObjectURL(url), 1000);
      });
      $('#printCart').addEventListener('click', ()=>{
        const items = load();
        const win = window.open('', '_blank');
        const rows = items.map((i,idx)=>`
          <tr>
            <td>${idx+1}</td>
            <td>${i.course||''}</td>
            <td>${i.section||''}</td>
            <td>${i.instructor||''}</td>
            <td>${i.units||''}</td>
            <td>${i.days||''}</td>
            <td>${i.time||''}</td>
            <td>${i.location||''}</td>
          </tr>`).join('');
        win.document.write(`<!DOCTYPE html><html><head><meta charset="utf-8"><title>WLAC ZTC Cart</title>
          <style>:root{ --navy:#002147; --gold:#fdb813; --gray:#eaeaec; }
          body{ font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:24px; }
          h1{ margin:0 0 4px; color:var(--navy); } p{ margin:0 0 16px; }
          .meta{ color:#333; margin-bottom:14px; font-size:.95rem; } table{ width:100%; border-collapse:collapse; }
          th, td{ border:1px solid var(--gray); padding:8px; text-align:left; } thead th{ background:var(--navy); color:#fff; }
          tfoot td{ border:0; padding-top:10px; font-weight:700; } .brand{ display:flex; align-items:center; gap:12px; margin-bottom:8px; }
          .brand img{ height:42px; } @media print{ @page{ size:auto; margin:12mm; } }</style></head><body>
          <div class="brand"><img src="${location.origin + location.pathname.replace(/\/[^/]*$/, '/') }library-logo.png" alt="WLAC logo" onerror="this.style.display='none'"/>
            <div><h1>WLAC Zero Textbook Cost â€” My Cart</h1><div class="meta">Generated on ${new Date().toLocaleString()}</div></div>
          </div>
          <table><thead><tr><th>#</th><th>Course</th><th>Section</th><th>Instructor</th><th>Units</th><th>Days</th><th>Time</th><th>Location</th></tr></thead>
            <tbody>${rows or '<tr><td colspan="8">No items in cart.</td></tr>'}</tbody>
            <tfoot><tr><td colspan="8">Total Items: ${items.length}</td></tr></tfoot>
          </table>
          <script>window.addEventListener('load', ()=> window.print());</script></body></html>`);
        win.document.close();
      });
      $('#clearCart').addEventListener('click', ()=>{ if(confirm('Clear all items from your cart?')){ localStorage.setItem(STORAGE_KEY, '[]'); render(); } });
      render();
    })();
  </script>
</body>
</html>
